import asyncio
import os
import sys
from datetime import datetime
from telegram import Bot, InlineKeyboardButton, InlineKeyboardMarkup
from database import Database

# ============================================
# –ù–ê–°–¢–†–û–ô–ö–ò (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è)
# ============================================
BOT_TOKEN = os.environ.get('BOT_TOKEN')      # –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –∏–∑ Render
CHANNEL_ID = os.environ.get('CHANNEL_ID')    # ID –∫–∞–Ω–∞–ª–∞ –∏–∑ Render
TEST_USER_ID = 8045097843                     # –¢–í–û–ô Telegram ID (–ø–æ–ª—É—á–∏—Ç —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ)

async def test_goodbye_message():
    """
    –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –ø—Ä–æ—â–∞–ª—å–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è:
    1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î (—Ç–µ–∫—Å—Ç, —Ñ–æ—Ç–æ, –∫–Ω–æ–ø–∫–∏)
    2. –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–æ—â–∞–ª—å–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è —Ç–µ–±–µ
    3. –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
    4. –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª–µ
    6. –†–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤
    """
    
    print(f"\n{'='*60}")
    print(f"üß™ –¢–ï–°–¢ –ü–†–û–©–ê–õ–¨–ù–û–ì–û –°–û–û–ë–©–ï–ù–ò–Ø")
    print(f"   –¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {TEST_USER_ID}")
    print(f"   –ö–∞–Ω–∞–ª: {CHANNEL_ID}")
    print(f"{'='*60}\n")
    
    # ============================================
    # 1. –ü–†–û–í–ï–†–ö–ê –ë–ê–ó–´ –î–ê–ù–ù–´–•
    # ============================================
    print("1Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...")
    try:
        db = Database()
        
        # –ü–æ–ª—É—á–∞–µ–º –ø—Ä–æ—â–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        goodbye_data = db.get_goodbye_message()
        print(f"   ‚úÖ –¢–µ–∫—Å—Ç –ø—Ä–æ—â–∞–Ω–∏—è: {goodbye_data['text'][:70]}...")
        print(f"   ‚úÖ –§–æ—Ç–æ: {goodbye_data['photo'] if goodbye_data['photo'] else '‚ùå –ù–µ—Ç'}")
        
        # –ü–æ–ª—É—á–∞–µ–º –∫–Ω–æ–ø–∫–∏
        goodbye_buttons = db.get_goodbye_buttons()
        print(f"   ‚úÖ –ö–Ω–æ–ø–æ–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ: {len(goodbye_buttons)}")
        if goodbye_buttons:
            for i, (btn_id, btn_text, btn_url, pos) in enumerate(goodbye_buttons, 1):
                print(f"      {i}. '{btn_text}' ‚Üí {btn_url}")
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        user = db.get_user(TEST_USER_ID)
        if user:
            user_id, username, first_name, joined_at, is_active, bot_started, has_paid, paid_at = user
            print(f"\n   üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {TEST_USER_ID}:")
            print(f"      ‚Ä¢ Username: @{username}")
            print(f"      ‚Ä¢ –ò–º—è: {first_name}")
            print(f"      ‚Ä¢ –ê–∫—Ç–∏–≤–µ–Ω: {'‚úÖ –î–∞' if is_active else '‚ùå –ù–µ—Ç'}")
            print(f"      ‚Ä¢ Bot started: {'‚úÖ –î–∞' if bot_started else '‚ùå –ù–µ—Ç'}")
            print(f"      ‚Ä¢ –û–ø–ª–∞—Ç–∏–ª: {'‚úÖ –î–∞' if has_paid else '‚ùå –ù–µ—Ç'}")
        else:
            print(f"   ‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {TEST_USER_ID} –ù–ï –ù–ê–ô–î–ï–ù –≤ –ë–î")
            print(f"   –°–æ–∑–¥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Ç–µ—Å—Ç–∞...")
            db.add_user(TEST_USER_ID, "test_user", "Test User")
            user = db.get_user(TEST_USER_ID)
            print(f"   ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω")
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
        scheduled = db.get_user_scheduled_messages(TEST_USER_ID)
        print(f"\n   üì¨ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π: {len(scheduled)}")
        if scheduled and len(scheduled) <= 5:
            for msg_id, msg_num, sch_time, is_sent in scheduled:
                print(f"      ‚Ä¢ –°–æ–æ–±—â–µ–Ω–∏–µ #{msg_num} –Ω–∞ {sch_time}")
        
    except Exception as e:
        print(f"   ‚ùå –û–®–ò–ë–ö–ê –ë–î: {e}")
        import traceback
        traceback.print_exc()
        return
    
    # ============================================
    # 2. –¢–ï–°–¢ –û–¢–ü–†–ê–í–ö–ò –ü–†–û–©–ê–õ–¨–ù–û–ì–û –°–û–û–ë–©–ï–ù–ò–Ø
    # ============================================
    print(f"\n2Ô∏è‚É£ –¢–µ—Å—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø—Ä–æ—â–∞–ª—å–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è...")
    bot = Bot(token=BOT_TOKEN)
    
    try:
        # –°–æ–∑–¥–∞–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –µ—Å–ª–∏ –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∏
        reply_markup = None
        if goodbye_buttons:
            keyboard = []
            for button_id, button_text, button_url, position in goodbye_buttons:
                keyboard.append([InlineKeyboardButton(button_text, url=button_url)])
            reply_markup = InlineKeyboardMarkup(keyboard)
            print(f"   ‚úÖ –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–Ω–∞: {len(goodbye_buttons)} –∫–Ω–æ–ø–æ–∫")
        
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø—Ä–æ—â–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        print(f"   üì§ –û—Ç–ø—Ä–∞–≤–ª—è—é –ø—Ä–æ—â–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é {TEST_USER_ID}...")
        
        if goodbye_data['photo']:
            sent = await bot.send_photo(
                chat_id=TEST_USER_ID,
                photo=goodbye_data['photo'],
                caption=goodbye_data['text'],
                parse_mode='HTML',
                reply_markup=reply_markup
            )
            print(f"   ‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ —Å –§–û–¢–û –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ! (message_id: {sent.message_id})")
        else:
            sent = await bot.send_message(
                chat_id=TEST_USER_ID,
                text=goodbye_data['text'],
                parse_mode='HTML',
                reply_markup=reply_markup
            )
            print(f"   ‚úÖ –¢–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ! (message_id: {sent.message_id})")
        
        print(f"   üí¨ –ü—Ä–æ–≤–µ—Ä—å —Å–≤–æ–π Telegram - –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ –ø—Ä–æ—â–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ!")
        
    except Exception as e:
        print(f"   ‚ùå –û–®–ò–ë–ö–ê –û–¢–ü–†–ê–í–ö–ò: {e}")
        import traceback
        traceback.print_exc()
        print(f"\n   –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:")
        print(f"   ‚Ä¢ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞—á–∞–ª –¥–∏–∞–ª–æ–≥ —Å –±–æ—Ç–æ–º (/start)")
        print(f"   ‚Ä¢ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –±–æ—Ç–∞")
        print(f"   ‚Ä¢ –ù–µ–≤–µ—Ä–Ω—ã–π BOT_TOKEN")
        return
    
    # ============================================
    # 3. –¢–ï–°–¢ –£–î–ê–õ–ï–ù–ò–Ø –ó–ê–ü–õ–ê–ù–ò–†–û–í–ê–ù–ù–´–• –°–û–û–ë–©–ï–ù–ò–ô
    # ============================================
    print(f"\n3Ô∏è‚É£ –¢–µ—Å—Ç —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π...")
    
    try:
        cancelled = db.cancel_user_messages(TEST_USER_ID)
        print(f"   ‚úÖ –£–¥–∞–ª–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ –ë–î: {cancelled}")
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —É–¥–∞–ª–∏–ª–∏—Å—å
        remaining = db.get_user_scheduled_messages(TEST_USER_ID)
        if len(remaining) == 0:
            print(f"   ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ: –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —É–¥–∞–ª–µ–Ω—ã –∏–∑ –ë–î")
        else:
            print(f"   ‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –û—Å—Ç–∞–ª–æ—Å—å {len(remaining)} —Å–æ–æ–±—â–µ–Ω–∏–π!")
            
    except Exception as e:
        print(f"   ‚ùå –û–®–ò–ë–ö–ê –£–î–ê–õ–ï–ù–ò–Ø: {e}")
    
    # ============================================
    # 4. –¢–ï–°–¢ –î–ï–ê–ö–¢–ò–í–ê–¶–ò–ò –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø
    # ============================================
    print(f"\n4Ô∏è‚É£ –¢–µ—Å—Ç –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è...")
    
    try:
        db.deactivate_user(TEST_USER_ID)
        user_after = db.get_user(TEST_USER_ID)
        
        if user_after[4] == 0:  # is_active = 0
            print(f"   ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω (is_active = 0)")
        else:
            print(f"   ‚ùå –û–®–ò–ë–ö–ê: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Å–µ –µ—â–µ –∞–∫—Ç–∏–≤–µ–Ω!")
            
    except Exception as e:
        print(f"   ‚ùå –û–®–ò–ë–ö–ê –î–ï–ê–ö–¢–ò–í–ê–¶–ò–ò: {e}")
    
    # ============================================
    # 5. –ü–†–û–í–ï–†–ö–ê –ü–†–ê–í –ë–û–¢–ê –í –ö–ê–ù–ê–õ–ï
    # ============================================
    print(f"\n5Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª–µ...")
    
    try:
        me = await bot.get_me()
        print(f"   ü§ñ –ë–æ—Ç: @{me.username} (ID: {me.id})")
        
        # –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–æ—Ç–µ –≤ –∫–∞–Ω–∞–ª–µ
        member = await bot.get_chat_member(CHANNEL_ID, me.id)
        
        print(f"   üìä –°—Ç–∞—Ç—É—Å –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª–µ: {member.status}")
        
        if member.status == 'administrator':
            print(f"   ‚úÖ –ë–æ—Ç —è–≤–ª—è–µ—Ç—Å—è –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†–û–ú –∫–∞–Ω–∞–ª–∞")
            print(f"   ‚ÑπÔ∏è –ü—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞: {member.can_manage_chat}")
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–∞–∂–Ω–æ–µ –ø—Ä–∞–≤–æ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è chat_member —Å–æ–±—ã—Ç–∏–π
            if hasattr(member, 'can_restrict_members'):
                print(f"   ‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏: {'‚úÖ' if member.can_restrict_members else '‚ùå'}")
        elif member.status == 'member':
            print(f"   ‚ùå –ë–æ—Ç –ù–ï —è–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º (–æ–±—ã—á–Ω—ã–π —É—á–∞—Å—Ç–Ω–∏–∫)")
            print(f"   ‚ö†Ô∏è –ë–ï–ó –ü–†–ê–í –ê–î–ú–ò–ù–ê –ë–û–¢ –ù–ï –ü–û–õ–£–ß–ò–¢ –°–û–ë–´–¢–ò–Ø –í–´–•–û–î–ê –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô!")
        else:
            print(f"   ‚ö†Ô∏è –°—Ç–∞—Ç—É—Å: {member.status}")
            
    except Exception as e:
        print(f"   ‚ùå –û–®–ò–ë–ö–ê –ü–†–û–í–ï–†–ö–ò –ü–†–ê–í: {e}")
        print(f"   –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:")
        print(f"   ‚Ä¢ –ë–æ—Ç –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–∞–Ω–∞–ª")
        print(f"   ‚Ä¢ –ù–µ–≤–µ—Ä–Ω—ã–π CHANNEL_ID")
    
    # ============================================
    # 6. –°–ò–ú–£–õ–Ø–¶–ò–Ø –°–û–ë–´–¢–ò–Ø –í–´–•–û–î–ê
    # ============================================
    print(f"\n6Ô∏è‚É£ –°–∏–º—É–ª—è—Ü–∏—è —Å–æ–±—ã—Ç–∏—è –≤—ã—Ö–æ–¥–∞ –∏–∑ –∫–∞–Ω–∞–ª–∞...")
    print(f"   ‚ÑπÔ∏è –†–µ–∞–ª—å–Ω—ã–π –≤—ã—Ö–æ–¥ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑:")
    print(f"   ‚Ä¢ ChatMemberHandler –≤ main.py")
    print(f"   ‚Ä¢ –§—É–Ω–∫—Ü–∏—è handle_member_update()")
    print(f"   ")
    print(f"   üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã:")
    print(f"   ‚úÖ –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ê–î–ú–ò–ù–û–ú –∫–∞–Ω–∞–ª–∞ {CHANNEL_ID}")
    print(f"   ‚úÖ –£ –±–æ—Ç–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–∞–≤–æ '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏'")
    print(f"   ‚úÖ Webhook –¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∞—Ç—å 'chat_member' —Å–æ–±—ã—Ç–∏—è")
    print(f"   ‚úÖ allowed_updates –¥–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∞—Ç—å 'chat_member'")
    
    # ============================================
    # 7. –†–ï–ê–ö–¢–ò–í–ê–¶–ò–Ø –î–õ–Ø –°–õ–ï–î–£–Æ–©–ò–• –¢–ï–°–¢–û–í
    # ============================================
    print(f"\n7Ô∏è‚É£ –†–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤...")
    
    try:
        db.ensure_user_exists_and_active(TEST_USER_ID, "test_user", "Test User")
        user_final = db.get_user(TEST_USER_ID)
        
        if user_final[4] == 1:  # is_active = 1
            print(f"   ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω (is_active = 1)")
        else:
            print(f"   ‚ö†Ô∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Å–µ –µ—â–µ –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω")
            
    except Exception as e:
        print(f"   ‚ùå –û–®–ò–ë–ö–ê –†–ï–ê–ö–¢–ò–í–ê–¶–ò–ò: {e}")
    
    # ============================================
    # –ò–¢–û–ì–ò
    # ============================================
    print(f"\n{'='*60}")
    print(f"‚úÖ –¢–ï–°–¢ –ó–ê–í–ï–†–®–ï–ù")
    print(f"{'='*60}")
    print(f"\nüìù –í—ã–≤–æ–¥—ã:")
    print(f"1. –ï—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏—à–ª–æ —Ç–µ–±–µ –≤ Telegram ‚Üí –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ")
    print(f"2. –ï—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è —É–¥–∞–ª–∏–ª–∏—Å—å –∏–∑ –ë–î ‚Üí —É–¥–∞–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ")
    print(f"3. –ï—Å–ª–∏ –±–æ—Ç –ù–ï –∞–¥–º–∏–Ω –∫–∞–Ω–∞–ª–∞ ‚Üí –¥–æ–±–∞–≤—å –µ–≥–æ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞!")
    print(f"4. –ï—Å–ª–∏ —Å–æ–±—ã—Ç–∏—è –≤—ã—Ö–æ–¥–∞ –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç ‚Üí –ø—Ä–æ–≤–µ—Ä—å allowed_updates\n")

if __name__ == "__main__":
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
    if not BOT_TOKEN:
        print("‚ùå –û–®–ò–ë–ö–ê: BOT_TOKEN –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!")
        print("   –£–±–µ–¥–∏—Å—å —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è BOT_TOKEN –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –≤ Render")
        sys.exit(1)
    
    if not CHANNEL_ID:
        print("‚ùå –û–®–ò–ë–ö–ê: CHANNEL_ID –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!")
        print("   –£–±–µ–¥–∏—Å—å —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è CHANNEL_ID –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –≤ Render")
        sys.exit(1)
    
    print(f"‚úÖ BOT_TOKEN: {BOT_TOKEN[:10]}...")
    print(f"‚úÖ CHANNEL_ID: {CHANNEL_ID}")
    print(f"‚úÖ TEST_USER_ID: {TEST_USER_ID}")
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç
    asyncio.run(test_goodbye_message())
